<html>
<head>
  <base href="https://jesperorb.github.io/revealjs/">
  <link rel="stylesheet" href="css/reveal.css">
  <link rel="stylesheet" href="css/theme/default.css">
  <link rel="stylesheet" type="text/css" href="lib/prismjs/prism.css">
  <link rel="stylesheet" type="text/css" href="lib/css/base16-oceanicnext.dark.css">

  <link rel="shortcut icon" type="image/png" href="favicon.png"/>
  <meta name="description" content="Firebase">
  <meta name="author" content="jesperorb">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta charset="utf-8">
  <title>Firebase  游댠</title>
  <script type="text/javascript">
    var link = document.createElement( 'link' );
    link.rel = 'stylesheet';
    link.type = 'text/css';
    link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
    document.getElementsByTagName( 'head' )[0].appendChild( link );
  </script>
  <style type="text/css">
    .token.operator{background:none;}
  </style>
</head>
<body>
  <div class="reveal">
    <div class="slides">

      <section>
         <section data-background-size="600px" data-background="http://www.boutikdo.com/wp-content/uploads/2017/08/New-Firebase-Logo-50-With-Additional-Example-Of-Logos-with-Firebase-Logo.jpg">
         </section>
       </section>
       <section>
         <section>
           <p>Firebase 칛r en s친kallad <em>Backend as a Service</em></p>
           <p>Vi beh칬ver inte bry oss om hanteringen av databasen</p>
           <p class="fragment fade-down">Databasen blir som ett API vi kallar p친</p>
           <p class="fragment fade-down">Ist칛llet f칬r att beh칬va s칛tta upp en MySQL-databas t.ex.</p>
         </section>
         <section>
          <p>MySQL 칛r en <em>relationell databas</em>: <strong>tabeller</strong></p>
          <p class="fragment fade-down">Firebase 칛r <em>noSQL</em>: <strong>objekt</strong></p>
          <p class="fragment fade-down">Vi kommer att jobba med en JSON-struktur</p>
         </section>
         <section>
           <pre><code class="language-json">todos: {
  todo1: {
    title: "Learn Firebase",
    completed: false
  }
}</code>
         </section>
         <section>
           </pre>
        <pre><code class="language-json">todos: {
  todo1: {
    title: "Learn Firebase",
    completed: false
  },
  todo2: {
    title: "Learn React",
    completed: false
  }
}
</code></pre>
         </section>
         <section>
           <p>Det betyder att vi beh칬ver gr칛va ibland</p>
           <pre><code class="language-js">todos: {
  todo1: {
    title: "Learn Firebase",
    completed: false
  }
}

console.log(todos.todo1.completed);</code></pre>
        <p class="fragment fade-down">Firebase underl칛ttar dock detta f칬r oss</p>
         </section>
         <section>
           <blockquote>Store and sync data between users and devices in realtime using a cloud-hosted, noSQL database</blockquote>
           <p class="fragment fade-down">Vi 칛r i molnet 游꺇, betyder bara att det 칛r n친gon annan stackars jobb att f친 det att fungera 칀T oss 游뱂</p>
         </section>
         <section>
           <p>Alltid samma sak oavsett: <em>CRUD</em></p>
           <p class="fragment fade-down"><strong>CREATE</strong> <strong>READ</strong> <strong>UPDATE</strong> <strong>DELETE</strong></p>
           <p class="fragment fade-down">Bara ett annat API f칬r att g칬ra det</p>
         </section>
         <section>
          <ul>
            <li>G친 till <a href="https://firebase.google.com/">https://firebase.google.com/</a></li>
            <li>Registrera konto p친 Firebase</li>
            <li>Tryck p친 <em>Get Started</em></li>
            <li>Tryck p친 <em>Create new Project</em></li>
            <li>D칬p projektet och v칛lj "Sweden" i dropdown</li>
            <li><strong>Nu har du en databas!</strong></li>
            </ul>
         </section>
       </section>
       <section>
         <section>
           <h1><strong>READ / WRITE</strong></h1>
         </section>
         <section>
           <p>Allting baserar sig p친 HTTP(S): <em>GET</em> / <em>POST</em></p>
           <p class="fragment fade-down">Firebase har sitt egna API f칬r detta</p>
           <p class="fragment fade-down">Firebase anv칛nder sig mest av <strong>Listeners</strong></p>
            <p class="fragment fade-down">Ist칛llet f칬r att lyssna efter <em><code>onClick</code></em> t.ex. s친 lyssnar Firebase p친 uppdateringar i databasen</p>
         </section>
         <section>
           <p>Firebase lyssnar till referenser till olika objekt</p>
           <pre><code class="language-js">firebase.database().ref("posts")</code></pre>
           <pre><code class="language-js">firebase.database().ref("users")</code></pre>
           <pre><code class="language-js">firebase.database().ref("comments")</code></pre>
           <p class="fragment fade-down">Ist칛llet f칬r tabeller har vi objekt, samt referenser till dessa objekt</p>
         </section>
         <section>
            <p>Ska vi komma 친t ett speciellt v칛rde med <em>ID</em>:</p>
           <pre><code class="language-js">firebase.database().ref("movie/id")</code></pre>
           <p class="fragment fade-down">Har det v칛rdet flera v칛rden?</p>
           <pre class="fragment fade-down"><code class="language-js">firebase.database().ref("movie/id/imdbRating")</code></pre>
           <p class="fragment fade-down">츿nnu mer n칛stlat??</p>
           <pre class="fragment fade-down"><code class="language-js">firebase.database().ref("movie/id/genres/action")</code></pre>
           <p class="fragment fade-down">Allting 칛r <strong>key/value</strong>-objekt</p>
          </section>
          <section>
            <p>F칬r att faktiskt skriva och h칛mta data s친 har vi f칬ljande API</p>
            <pre><code class="language-js">firebase.database()
  .ref("messages")
  .push("HELLO FROM SLIDES")</code></pre>
            <p class="fragment fade-down">Ovan lagrar meddelandet i samlingen<code><em>"messages"</em></code> med <strong>ett unikt ID</strong></p>
          </section>
          <section>
            <p>Manipulera data, skriva och ta bort</p>
            <pre><code class="language-js">.push() //POST
.set() //UPDATE
.remove() //DELETE
</code></pre>
          <p class="fragment fade-down">L칛sa data</p>
          <pre class="fragment fade-down"><code class="language-js">.on() //GET but REALTIME, GETS REAL!
.once() //TRADITIONAL GET</code></pre>
          </section>
          <section>
            <p><code><em>on</em></code> & <code><em>.once()</em></code> har callbacks</p>
            <pre><code class="language-js">firebase.database().ref("messages")
  .on('value', function(snapshot){
    console.log(snapshot.val());
});</code></pre>
          <p class="fragment fade-down">Vi m친ste plocka ut v친ra v칛rden med <code><em>.val()</em></code></p>
          </section>
          <section>
            <p><code><em>.on</em></code> returnerar en <strong>"snapshot"</strong>, en bild av hur v친r databas ser ut f칬r tillf칛llet.</p>
            <p class="fragment fade-down">Den 칛r typ som ett promise, dv.s. massa metadata, vi m친ste plocka ut v칛rdena med:
            <pre class="fragment fade-down"><code class="language-js">snapshot.val()</code></pre> </p>
            <p class="fragment fade-down">Snapshot m친ste inte heta snapshot</p>
          </section>
          <section>
            <pre><code class="language-js">firebase.database().ref("messages")
  .once('value', function(snapshot){
    console.log(snapshot.val());
});</code></pre>
          <p class="fragment fade-down"><code><em>.once()</em></code> 칛r mer som en klassisk FETCH</p>
          </section>

          <section>
            <p>M친nga funktioner returnerar 칛ven ett promise</p>
            <pre><code class="language-js">firebase.database().ref("messages")
  .once('value')
  .then(snapshot => { 
    console.log(snapshot.val());
  });</code></pre>
          <p class="fragment fade-down">T.ex. <code><strong>.set()</strong></code> och <code><strong>.push()</strong></code></p>
          </section>
          <section>
            <h3><strong>Kodexempel</strong></h3>
            <p>H칛mta och skicka data till databasen</p>
          </section>
          <section>
            <p><em>Eftermiddagen:</em></p>
            <p>칐vning: Implementera TODO med firebase</p>
            <p>(Leka med WebVR? 游뱀)</p>
          </section>
       </section>
    </div>
  </div>
  <!-- reveal.js scripts -->
  <script src="lib/js/head.min.js"></script>
  <script src="js/reveal.js"></script>
  <script>
    Reveal.initialize({
      transition: 'fade',
      height: '90%',
      width: '70%',
      controls: true,
      progress: true,
      history: true,
      keyboard: true,
      overview: true,
      center: true,
      dependencies: [
      { src: 'lib/js/classList.js',condition: function (){
        return !document.body.classList;}},
      { src: 'plugin/notes/notes.js', async: true },
      {src : 'lib/prismjs/prism.js'},
      {src : 'js/print.js'}
      ]
    });
  </script>
</body>
</html>